---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import FormattedDate from '../components/FormattedDate.astro';
import Header from '../components/Navbar.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;

import BaseTemplate from "./BaseTemplate.astro";

const { frontmatter } = Astro.props;
---

<BaseTemplate pageTitle={frontmatter.title}>
  <!-- Content -->
  <div class="p-4">
    <div class="banner p-2">
      <p>Written by <strong>{frontmatter.author}</strong></p>
      <p>Published on: {frontmatter.publishedOn.toLocaleDateString()}</p>
      <p><em>{frontmatter.description}</em></p>
      <!-- Rel. tags -->
      <div class="tags">
        {frontmatter.tags.map((tag: string)=>
        <p class="tag"><a href={`/tags/${tag}`}>{tag}</a></p>)}
      </div>
      <img src={frontmatter.image.url} width="300" alt={frontmatter.image.alt} />
    </div>
    <slot />
  </div>

  <!-- Styling -->
  <style>
    h1{
      font-weight: 600;
    }
    .banner {
      margin-bottom: 1.5rem;
    }
    .banner>img{margin-top: 1rem;}
    .tag{
      background-color: #F8FCFD;
      border: dotted 1px #a1a1a1;
      border-radius: .5em;
      font-size: .8em;
      font-weight: bold;
      margin: 0.25em;
      padding: .5em 1em;
      text-transform: capitalize;
    }
    .tag>a{color: #00539F;}
    .tags {
      display: flex;
      flex-wrap: wrap;
    }
  </style>
</BaseTemplate>
